package user;
import public "stats.proto";

enum Replay{
  LOGIN_OK = 1;

  BAD_USER_OR_PASSWD = 10;
  USER_ALREADY_LOGGED_IN = 11;
}

message Login{
  required uint32 msgType = 1 [default =1 ];
  required string name = 3;
  required string password = 4;
}

message Logout{
  required uint32 msgType = 1 [default = 2 ];
}

message LoginReplay{
  required uint32 msgType = 1[default = 14];
  required Replay replay = 2;
}

message Add{
  required uint32 msgType = 1 [default = 3];
  required string name = 2;
  required string password = 3;
  required string email = 4;
  optional string address = 5;
  optional bytes phonenumber = 8;
}

message AddUserReplay{
  required uint32 msgType = 1 [default=4];
  required QueryStats stats = 2;
  required Replay replay = 3;
}

/// messages can't use as standalone

message UserActivityStatistics{
	required uint32 magazineCount = 1; // number of magazines
	required uint32 totalNumOfElements=2; // number of elements
	required uint32 totalNumOfGroupedElements = 3; // number of different elements
	required uint32 totalNumOfExecutedQueries = 4; // number of executed sql queries
	required uint32 totalNumOfRequests = 5; // number of requests to serwer
	required uint32 totalModifiedItems = 6; // total number of modified elements by user
	required uint32 totalAddItems = 7; // total items that user add to group
}

message UserData{
	required string name = 1;
	required string email= 2;
	required string address=3;
	required bytes phoneNumber=4;
	required uint64 lastLogin = 6;
	required uint64 firstLogin = 7;
	optional UserActivityStatistics stats = 5;
}